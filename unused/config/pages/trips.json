{
    "page": {
      "id": "trips-list",
      "path": "/trips",
      "layout": "default",
      "meta": {
        "title": "Trips - Employee Transport",
        "description": "Manage transportation trips",
        "public": false,
        "roles": ["admin", "employee"]
      },
      "components": {
        "pageHeader": {
          "extends": "patterns.PageHeader",
          "config": {
            "title": "Trips",
            "subtitle": "Manage daily transportation trips and attendance",
            "breadcrumb": [
              {
                "label": "Dashboard",
                "path": "/dashboard"
              },
              {
                "label": "Trips"
              }
            ],
            "actions": {
              "extends": "patterns.ActionBar",
              "items": [
                {
                  "extends": "base.Button",
                  "variant": "primary",
                  "props": {
                    "label": "Schedule Trip",
                    "icon": "PlusOutlined",
                    "action": "openScheduleModal",
                    "permissions": ["admin"]
                  }
                }
              ]
            }
          }
        },
        "filters": {
          "extends": "patterns.FilterPanel",
          "config": {
            "collapsed": false,
            "layout": {
              "gutter": "${theme.spacing.md}",
              "columns": 24
            },
            "fields": [
              {
                "extends": "base.Form.DatePicker",
                "name": "dateRange",
                "colSpan": 8,
                "props": {
                  "label": "Date Range",
                  "type": "range",
                  "defaultValue": ["today", "today"]
                }
              },
              {
                "extends": "base.Form.Select",
                "name": "route",
                "colSpan": 4,
                "props": {
                  "label": "Route",
                  "placeholder": "Select route",
                  "dataSource": {
                    "type": "api",
                    "endpoint": "/routes",
                    "labelField": "routeName",
                    "valueField": "id"
                  }
                }
              },
              {
                "extends": "base.Form.Select",
                "name": "status",
                "colSpan": 4,
                "props": {
                  "label": "Status",
                  "placeholder": "Select status",
                  "options": [
                    {
                      "label": "Scheduled",
                      "value": "scheduled"
                    },
                    {
                      "label": "In Progress",
                      "value": "in-progress"
                    },
                    {
                      "label": "Completed",
                      "value": "completed"
                    },
                    {
                      "label": "Cancelled",
                      "value": "cancelled"
                    }
                  ]
                }
              },
              {
                "extends": "base.Form.Select",
                "name": "vehicle",
                "colSpan": 4,
                "props": {
                  "label": "Vehicle",
                  "placeholder": "Select vehicle",
                  "dataSource": {
                    "type": "api",
                    "endpoint": "/vehicles",
                    "labelField": "vehicleNumber",
                    "valueField": "id"
                  }
                }
              }
            ]
          }
        },
        "table": {
          "extends": "base.Table",
          "config": {
            "rowKey": "id",
            "dataSource": {
              "type": "api",
              "endpoint": "/trips",
              "params": {
                "page": "number",
                "limit": "number",
                "dateRange": "array",
                "route": "string",
                "status": "string",
                "vehicle": "string"
              }
            },
            "features": {
              "pagination": true,
              "sorting": true,
              "filtering": true
            },
            "columns": [
              {
                "title": "Trip ID",
                "dataIndex": "tripId",
                "width": 120,
                "fixed": "left"
              },
              {
                "title": "Date",
                "dataIndex": "date",
                "width": 120,
                "sorter": true,
                "render": {
                  "component": "display.Date"
                }
              },
              {
                "title": "Route",
                "dataIndex": "routeName",
                "width": 200,
                "render": {
                  "component": "display.Link",
                  "props": {
                    "href": "/routes/:routeId"
                  }
                }
              },
              {
                "title": "Vehicle",
                "dataIndex": "vehicle",
                "width": 150,
                "render": {
                  "component": "display.VehicleInfo"
                }
              },
              {
                "title": "Start Time",
                "dataIndex": "startTime",
                "width": 120,
                "render": {
                  "component": "display.Time",
                  "props": {
                    "format": "HH:mm"
                  }
                }
              },
              {
                "title": "Status",
                "dataIndex": "status",
                "width": 120,
                "render": {
                  "component": "display.StatusBadge",
                  "props": {
                    "variants": {
                      "scheduled": { "color": "default" },
                      "in-progress": { "color": "processing" },
                      "completed": { "color": "success" },
                      "cancelled": { "color": "error" }
                    }
                  }
                }
              },
              {
                "title": "Attendance",
                "dataIndex": "attendance",
                "width": 150,
                "render": {
                  "component": "display.AttendanceStats"
                }
              },
              {
                "title": "Actions",
                "fixed": "right",
                "width": 200,
                "render": {
                  "component": "display.ActionButtons",
                  "items": [
                    {
                      "icon": "EnvironmentOutlined",
                      "tooltip": "Track",
                      "action": "openTracking"
                    },
                    {
                      "icon": "CheckOutlined",
                      "tooltip": "Mark Attendance",
                      "action": "markAttendance",
                      "permissions": ["admin"]
                    },
                    {
                      "icon": "CloseOutlined",
                      "tooltip": "Cancel Trip",
                      "action": "cancelTrip",
                      "danger": true,
                      "permissions": ["admin"]
                    }
                  ]
                }
              }
            ],
            "expandable": {
              "expandedRowRender": "TripDetails"
            }
          }
        }
      },
      "modals": {
        "scheduleTrip": {
          "extends": "feedback.Modal",
          "variant": "form",
          "config": {
            "title": "Schedule Trip",
            "width": 700,
            "form": {
              "extends": "base.Form",
              "layout": "vertical",
              "sections": [
                {
                  "title": "Trip Details",
                  "fields": [
                    {
                      "extends": "base.Form.DatePicker",
                      "name": "date",
                      "props": {
                        "label": "Trip Date",
                        "required": true
                      }
                    },
                    {
                      "extends": "base.Form.Select",
                      "name": "routeId",
                      "props": {
                        "label": "Route",
                        "required": true,
                        "dataSource": {
                          "type": "api",
                          "endpoint": "/routes"
                        }
                      }
                    },
                    {
                      "extends": "base.Form.Select",
                      "name": "vehicleId",
                      "props": {
                        "label": "Vehicle",
                        "required": true,
                        "dependencies": ["date", "routeId"],
                        "dataSource": {
                          "type": "api",
                          "endpoint": "/vehicles/available"
                        }
                      }
                    },
                    {
                      "extends": "base.Form.TimePicker",
                      "name": "startTime",
                      "props": {
                        "label": "Start Time",
                        "required": true,
                        "format": "HH:mm"
                      }
                    }
                  ]
                }
              ]
            }
          }
        },
        "attendanceForm": {
          "extends": "feedback.Modal",
          "variant": "form",
          "config": {
            "title": "Mark Attendance",
            "width": 800,
            "table": {
              "extends": "base.Table",
              "columns": [
                {
                  "title": "Employee",
                  "dataIndex": "employeeName",
                  "width": 200
                },
                {
                  "title": "Status",
                  "dataIndex": "status",
                  "width": 120,
                  "render": {
                    "component": "base.Form.Select",
                    "props": {
                      "options": [
                        {
                          "label": "Present",
                          "value": "present"
                        },
                        {
                          "label": "Absent",
                          "value": "absent"
                        },
                        {
                          "label": "Late",
                          "value": "late"
                        }
                      ]
                    }
                  }
                },
                {
                  "title": "Time",
                  "dataIndex": "time",
                  "width": 120,
                  "render": {
                    "component": "base.Form.TimePicker"
                  }
                },
                {
                  "title": "Remarks",
                  "dataIndex": "remarks",
                  "render": {
                    "component": "base.Form.Input"
                  }
                }
              ]
            },
            "actions": [
              {
                "label": "Mark All Present",
                "action": "markAllPresent",
                "variant": "default"
              }
            ]
          }
        }
      },
      "hooks": {
        "useTable": {
          "features": [
            "pagination",
            "sorting",
            "filtering",
            "refresh"
          ],
          "dataSource": "api.list"
        },
        "useForm": {
          "features": [
            "validation",
            "submission",
            "dependencies"
          ]
        }
      },
      "api": {
        "list": {
          "endpoint": "/trips",
          "method": "GET",
          "params": {
            "page": "number",
            "limit": "number",
            "startDate": "date",
            "endDate": "date",
            "route": "string",
            "vehicle": "string",
            "status": "string"
          }
        },
        "create": {
          "endpoint": "/trips",
          "method": "POST"
        },
        "updateStatus": {
          "endpoint": "/trips/:id/status",
          "method": "PUT"
        },
        "markAttendance": {
          "endpoint": "/trips/:id/attendance",
          "method": "POST"
        }
      },
      "actions": {
        "openScheduleModal": {
          "type": "modal",
          "target": "scheduleTrip",
          "onConfirm": {
            "type": "api",
            "target": "create",
            "onSuccess": {
              "type": "notification",
              "message": "Trip scheduled successfully",
              "action": "reloadTable"
            }
          }
        },
        "openTracking": {
          "type": "navigation",
          "path": "/trips/:id/tracking"
        },
        "markAttendance": {
          "type": "modal",
          "target": "attendanceForm",
          "onConfirm": {
            "type": "api",
            "target": "markAttendance",
            "onSuccess": {
              "type": "notification",
              "message": "Attendance marked successfully",
              "action": "reloadTable"
            }
          }
        },
        "cancelTrip": {
          "type": "confirm",
          "title": "Cancel Trip",
          "message": "Are you sure you want to cancel this trip?",
          "onConfirm": {
            "type": "api",
            "target": "updateStatus",
            "data": {
              "status": "cancelled"
            },
            "onSuccess": {
              "type": "notification",
              "message": "Trip cancelled successfully",
              "action": "reloadTable"
            }
          }
        }
      }
    }
  }