{
    "page": {
      "id": "routes-list",
      "path": "/routes",
      "layout": "default",
      "meta": {
        "title": "Routes - Employee Transport",
        "description": "Manage transport routes",
        "public": false,
        "roles": ["admin"]
      },
      "components": {
        "pageHeader": {
          "extends": "patterns.PageHeader",
          "config": {
            "title": "Routes",
            "subtitle": "Manage transport routes and assignments",
            "breadcrumb": [
              {
                "label": "Dashboard",
                "path": "/dashboard"
              },
              {
                "label": "Routes"
              }
            ],
            "actions": {
              "extends": "patterns.ActionBar",
              "items": [
                {
                  "extends": "base.Button",
                  "variant": "primary",
                  "props": {
                    "label": "Create Route",
                    "icon": "PlusOutlined",
                    "action": "openCreateModal"
                  }
                },
                {
                  "extends": "base.Button",
                  "variant": "default",
                  "props": {
                    "label": "Optimize Routes",
                    "icon": "ThunderboltOutlined",
                    "action": "optimizeRoutes"
                  }
                }
              ]
            }
          }
        },
        "filters": {
          "extends": "patterns.FilterPanel",
          "config": {
            "collapsed": false,
            "layout": {
              "gutter": "${theme.spacing.md}",
              "columns": 24
            },
            "fields": [
              {
                "extends": "base.Form.Input",
                "name": "search",
                "colSpan": 8,
                "props": {
                  "label": "Search",
                  "placeholder": "Search by route name or area",
                  "prefix": {
                    "icon": "SearchOutlined"
                  },
                  "allowClear": true
                }
              },
              {
                "extends": "base.Form.Select",
                "name": "vehicle",
                "colSpan": 4,
                "props": {
                  "label": "Vehicle",
                  "placeholder": "Select vehicle",
                  "dataSource": {
                    "type": "api",
                    "endpoint": "/vehicles",
                    "labelField": "vehicleNumber",
                    "valueField": "id"
                  }
                }
              },
              {
                "extends": "base.Form.Select",
                "name": "status",
                "colSpan": 4,
                "props": {
                  "label": "Status",
                  "placeholder": "Select status",
                  "options": [
                    {
                      "label": "Active",
                      "value": "active"
                    },
                    {
                      "label": "Inactive",
                      "value": "inactive"
                    }
                  ]
                }
              }
            ]
          }
        },
        "table": {
          "extends": "base.Table",
          "config": {
            "rowKey": "id",
            "dataSource": {
              "type": "api",
              "endpoint": "/routes",
              "params": {
                "page": "number",
                "limit": "number",
                "search": "string",
                "vehicle": "string",
                "status": "string"
              }
            },
            "features": {
              "selection": true,
              "pagination": true,
              "sorting": true,
              "filtering": true
            },
            "columns": [
              {
                "title": "Route Name",
                "dataIndex": "routeName",
                "width": 200,
                "fixed": "left",
                "sorter": true,
                "search": true
              },
              {
                "title": "Vehicle",
                "dataIndex": "vehicle",
                "width": 150,
                "render": {
                  "component": "display.VehicleTag",
                  "props": {
                    "numberField": "vehicleNumber",
                    "typeField": "vehicleType"
                  }
                }
              },
              {
                "title": "Stops",
                "dataIndex": "stops",
                "width": 100,
                "render": {
                  "component": "display.Badge",
                  "props": {
                    "count": true
                  }
                }
              },
              {
                "title": "Employees",
                "dataIndex": "employeeCount",
                "width": 120,
                "sorter": true
              },
              {
                "title": "Distance",
                "dataIndex": "totalDistance",
                "width": 120,
                "sorter": true,
                "render": {
                  "component": "display.Distance"
                }
              },
              {
                "title": "Duration",
                "dataIndex": "estimatedDuration",
                "width": 120,
                "render": {
                  "component": "display.Duration"
                }
              },
              {
                "title": "Status",
                "dataIndex": "status",
                "width": 100,
                "render": {
                  "component": "display.StatusBadge",
                  "props": {
                    "variants": {
                      "active": {
                        "color": "success"
                      },
                      "inactive": {
                        "color": "error"
                      }
                    }
                  }
                }
              },
              {
                "title": "Preview",
                "dataIndex": "preview",
                "width": 100,
                "render": {
                  "component": "display.MapPreview",
                  "props": {
                    "height": 60,
                    "onClick": "showRouteDetails"
                  }
                }
              },
              {
                "title": "Actions",
                "fixed": "right",
                "width": 200,
                "render": {
                  "component": "display.ActionButtons",
                  "items": [
                    {
                      "icon": "EditOutlined",
                      "tooltip": "Edit",
                      "action": "editRoute"
                    },
                    {
                      "icon": "CarOutlined",
                      "tooltip": "Assign Vehicle",
                      "action": "assignVehicle"
                    },
                    {
                      "icon": "EnvironmentOutlined",
                      "tooltip": "Track",
                      "action": "openTracking"
                    },
                    {
                      "icon": "DeleteOutlined",
                      "tooltip": "Delete",
                      "action": "deleteRoute",
                      "danger": true
                    }
                  ]
                }
              }
            ],
            "expandable": {
              "expandedRowRender": "RouteDetails"
            }
          }
        }
      },
      "modals": {
        "routeForm": {
          "extends": "feedback.Modal",
          "variant": "form",
          "config": {
            "title": "${mode} Route",
            "width": 800,
            "form": {
              "extends": "base.Form",
              "layout": "vertical",
              "sections": [
                {
                  "title": "Route Information",
                  "fields": [
                    {
                      "extends": "base.Form.Input",
                      "name": "routeName",
                      "props": {
                        "label": "Route Name",
                        "required": true
                      }
                    },
                    {
                      "extends": "base.Form.Select",
                      "name": "vehicleId",
                      "props": {
                        "label": "Assign Vehicle",
                        "required": true,
                        "dataSource": {
                          "type": "api",
                          "endpoint": "/vehicles"
                        }
                      }
                    }
                  ]
                },
                {
                  "title": "Route Points",
                  "fields": [
                    {
                      "extends": "custom.LocationPicker",
                      "name": "startPoint",
                      "props": {
                        "label": "Start Point",
                        "required": true,
                        "searchable": true,
                        "height": 200
                      }
                    },
                    {
                      "extends": "custom.StopsList",
                      "name": "stops",
                      "props": {
                        "label": "Route Stops",
                        "draggable": true,
                        "maxStops": 20,
                        "locationPicker": {
                          "searchable": true,
                          "height": 150
                        }
                      }
                    },
                    {
                      "extends": "custom.LocationPicker",
                      "name": "endPoint",
                      "props": {
                        "label": "End Point",
                        "required": true,
                        "searchable": true,
                        "height": 200
                      }
                    }
                  ]
                }
              ]
            }
          }
        }
      },
      "hooks": {
        "useTable": {
          "features": [
            "pagination",
            "sorting",
            "filtering",
            "selection"
          ],
          "dataSource": "api.list"
        },
        "useForm": {
          "features": [
            "validation",
            "submission",
            "reset"
          ]
        },
        "useMap": {
          "features": [
            "geocoding",
            "routing",
            "optimization"
          ]
        }
      },
      "api": {
        "list": {
          "endpoint": "/routes",
          "method": "GET",
          "params": {
            "page": "number",
            "limit": "number",
            "search": "string",
            "vehicle": "string",
            "status": "string"
          }
        },
        "create": {
          "endpoint": "/routes",
          "method": "POST"
        },
        "update": {
          "endpoint": "/routes/:id",
          "method": "PUT"
        },
        "delete": {
          "endpoint": "/routes/:id",
          "method": "DELETE"
        },
        "optimize": {
          "endpoint": "/routes/optimize",
          "method": "POST"
        }
      },
      "actions": {
        "openCreateModal": {
          "type": "modal",
          "target": "routeForm",
          "data": {
            "mode": "Create"
          }
        },
        "editRoute": {
          "type": "modal",
          "target": "routeForm",
          "data": {
            "mode": "Edit"
          }
        },
        "deleteRoute": {
          "type": "confirm",
          "title": "Delete Route",
          "message": "Are you sure you want to delete this route?",
          "onConfirm": {
            "type": "api",
            "target": "delete",
            "onSuccess": {
              "type": "notification",
              "message": "Route deleted successfully",
              "action": "reloadTable"
            }
          }
        },
        "optimizeRoutes": {
          "type": "api",
          "target": "optimize",
          "onSuccess": {
            "type": "notification",
            "message": "Routes optimized successfully",
            "action": "reloadTable"
          }
        }
      }
    }
  }